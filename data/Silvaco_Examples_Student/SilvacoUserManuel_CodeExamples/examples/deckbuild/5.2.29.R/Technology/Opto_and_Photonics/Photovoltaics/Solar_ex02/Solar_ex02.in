# (c) Silvaco Inc., 2024

# Organic Solar Cell

# Required Modules
#  Victory Device
#   -2D Simulator
#   -2D Optical
#   -2D Organic

# Example Name
SET name="Solar_ex02"

####### DEVICE SIMULATION ####### 
GO victorydevice simflags="-P 4"

# Here we specify a mesh of one square meter ( 1um x 1e12 um).
# Since the structure is essentially one dimensional we ignore
# variations if x and z.
#
MESH width=1e12
X.MESH l=0 s=1
X.MESH l=1 s=1
#
# In the Y direction we define a finer mesh to resolve variations due
# to the exponential variation of absorption and carrier distributions
# due to diffusion in opposite directions.
#
Y.MESH l=0.00  s=0.001
Y.MESH l=0.12  s=0.001
#
# For organic solar cells we define only a single organic region that
# represents a bulk heterojunction (BHJ) material.
#
REGION number=1 material=Organic
#
# Here we define the top and bottom electrodes which we define workfunctions
# in order to provice a build-in field for separation of electrons and holes.
#
ELECTRODE name=anode   top
ELECTRODE name=cathode bottom
CONTACT num=1 workf=1.0
CONTACT num=2 workf=2.34
#
# We define the models.  In this case we specify that we will solve for
# the singlet equation (singlet), accounting for Langevin recombination
# (langevin) and singlet exciton dissociation (s.dissoc).
#
MODEL langevin singlet s.dissoc
#
# The parameter qe.exciton specifies the number of excitons generated for
# for each absorbed photon.
#
MATERIAL qe.exciton=1.0
#
# This statement sets up some of the standard material parameters for the
# organic material (permittivity, affinity, band gap (difference between
# LUMO and HOMO) and densities of states.
#
MATERIAL permi=3.4 affinity=1.0 eg300=1.34 nc300=2.5e19 nv300=2.5e19
#
# These statements set up parameters of the singlet exciton continuity
# equation in accordance with the reference.
#
MATERIAL knrs.exciton=1.82694e6 lds.exciton=0.0 taus.exciton=1.0e20 rst.exciton=1.0
MATERIAL a.singlet=1.32167 s.binding=0.28484
MOBILITY mun0=2.5e-3 mup0=3.0e-4
#
# Here we use a C - interpreter function to define constant photogeneration
# rate throughout the device as suggested in the reference.
#
BEAM num=1 f.radiate=$"name".lib
#
# This statement specifies that we want to examine the fundamental
# band parameters, conduction and valence band edges and electron
# and hole mobilities in the output structure files.
#
OUTPUT band.par con.band val.band e.mob h.mob
#
# Parameters appearing on the method statement refer to numerical
# adjustments that are usually not required except to improve
# robustness or speed of solution.
# In this case we are specifying climit which controls the minimum
# resolvable carrier concentration and maxtrap which specifies the
# maximum number of cutbacks during any solve.
#
METHOD climit=1e-4 maxtrap=0
#
# Next we obtain an initial static unbiassed solution
#
SOLVE init
SOLVE prev
#
# Here we turn on the optical source (sun).  In this case the
# intensity has been calibrated to give the same results as were
# given in the reference.
#
SOLVE b1=0.59
#
# Now we open a log file to capture the IV data.
# We then perform a voltage sweep to capture the IV characteristics
# of the device.
#
LOG outf=$"name".log
SOLVE vcathode=0 vstep=0.02   vfinal=.86 name=cathode
#
# Finally we plot the results.
#
victoryvisual $"name".log:$"name".set
#
QUIT
